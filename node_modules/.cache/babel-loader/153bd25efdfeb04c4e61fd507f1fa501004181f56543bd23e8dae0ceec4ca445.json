{"ast":null,"code":"var _jsxFileName = \"/Users/omer/Local Repo/notomer.github.io/src/Components/Porsche3d.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n//To Preface thank you to Karol Miklas for making this 3D model free to use and available to the public\n//His model can be found here: https://sketchfab.com/3d-models/free-porsche-911-carrera-4s-d01b254483794de3819786d93e0e1ebf\n//This code shows how the model works \n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { useGLTF, Stage, PresentationControls } from \"@react-three/drei\";\nimport Slideshow from \"./Slideshow\"; // Import the Slideshow component\n\n// Array of model objects with titles and image URLs\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst models = [{\n  url: \"/Porsche.glb\",\n  title: \"My dream car is a 911, this is my next car goal.\",\n  image: \"/911-logo.jpg\"\n}, {\n  url: \"/Tesla.glb\",\n  title: \"I currently drive a Tesla\",\n  image: \"/t\"\n}];\nfunction Model(props) {\n  _s();\n  const {\n    scene\n  } = useGLTF(\"/Porsche.glb\");\n\n  // Traverse through all children of the scene and disable shadows\n  scene.traverse(child => {\n    if (child.isMesh) {\n      child.castShadow = false;\n      child.receiveShadow = false;\n      if (child.material) {\n        child.material.castShadow = false;\n        child.material.receiveShadow = false;\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: scene,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n}\n_s(Model, \"o+hqw2nGnmzAsiWsKcbG4W2mWg4=\", false, function () {\n  return [useGLTF];\n});\n_c = Model;\nfunction Porsche3d() {\n  _s2();\n  const carRef = useRef();\n  const [rotationEnabled, setRotationEnabled] = useState(true);\n  const [rotation, setRotation] = useState([0, Math.PI / 4., 0]);\n  let idleTimeout;\n  const resetIdleTimer = () => {\n    clearTimeout(idleTimeout);\n    idleTimeout = setTimeout(() => {\n      setRotationEnabled(true);\n    }, 5000);\n  };\n  useEffect(() => {\n    let requestId;\n    let lastTimestamp = 0;\n    const updateRotation = timestamp => {\n      const elapsedMilliseconds = timestamp - lastTimestamp;\n      if (rotationEnabled) {\n        const rotationSpeed = 0.0001; // Adjust rotation speed as needed\n        setRotation(prevRotation => [prevRotation[0], prevRotation[1] + rotationSpeed * elapsedMilliseconds, prevRotation[2]]);\n      }\n      lastTimestamp = timestamp;\n      requestId = requestAnimationFrame(updateRotation);\n    };\n    if (rotationEnabled) {\n      requestId = requestAnimationFrame(updateRotation);\n    }\n\n    // Initial idle timer setup\n    resetIdleTimer();\n    return () => {\n      cancelAnimationFrame(requestId);\n      clearTimeout(idleTimeout);\n    };\n  }, [rotationEnabled]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Slideshow, {\n      models: models,\n      currentModelIndex: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Canvas, {\n      dpr: [1, 2],\n      shadows: true,\n      camera: {\n        fov: 45\n      },\n      style: {\n        position: \"absolute\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PresentationControls, {\n        speed: 1.5,\n        global: true,\n        zoom: 1,\n        polar: [-0.1, Math.PI / 4.],\n        onPointerDown: () => {\n          setRotationEnabled(true);\n          resetIdleTimer();\n        },\n        onPointerUp: () => {\n          setRotationEnabled(false);\n        },\n        onPointerLeave: () => {\n          setRotationEnabled(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(Stage, {\n          environment: \"\",\n          children: /*#__PURE__*/_jsxDEV(Model, {\n            scale: 0.0006,\n            ref: carRef,\n            rotation: rotation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s2(Porsche3d, \"1hzn7l1Z3f31fz2YwA2YSdtp4PQ=\");\n_c2 = Porsche3d;\nexport default Porsche3d;\nvar _c, _c2;\n$RefreshReg$(_c, \"Model\");\n$RefreshReg$(_c2, \"Porsche3d\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Canvas","useGLTF","Stage","PresentationControls","Slideshow","jsxDEV","_jsxDEV","models","url","title","image","Model","props","_s","scene","traverse","child","isMesh","castShadow","receiveShadow","material","object","fileName","_jsxFileName","lineNumber","columnNumber","_c","Porsche3d","_s2","carRef","rotationEnabled","setRotationEnabled","rotation","setRotation","Math","PI","idleTimeout","resetIdleTimer","clearTimeout","setTimeout","requestId","lastTimestamp","updateRotation","timestamp","elapsedMilliseconds","rotationSpeed","prevRotation","requestAnimationFrame","cancelAnimationFrame","children","currentModelIndex","dpr","shadows","camera","fov","style","position","intensity","speed","global","zoom","polar","onPointerDown","onPointerUp","onPointerLeave","environment","scale","ref","_c2","$RefreshReg$"],"sources":["/Users/omer/Local Repo/notomer.github.io/src/Components/Porsche3d.js"],"sourcesContent":["//To Preface thank you to Karol Miklas for making this 3D model free to use and available to the public\n//His model can be found here: https://sketchfab.com/3d-models/free-porsche-911-carrera-4s-d01b254483794de3819786d93e0e1ebf\n//This code shows how the model works \n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { useGLTF, Stage, PresentationControls } from \"@react-three/drei\";\nimport Slideshow from \"./Slideshow\"; // Import the Slideshow component\n\n// Array of model objects with titles and image URLs\nconst models = [\n  {\n    url: \"/Porsche.glb\",\n    title: \"My dream car is a 911, this is my next car goal.\",\n    image: \"/911-logo.jpg\",\n  },\n  {\n    url: \"/Tesla.glb\",\n    title: \"I currently drive a Tesla\",\n    image: \"/t\",\n  },\n\n];\n\nfunction Model(props) {\n  const { scene } = useGLTF(\"/Porsche.glb\");\n\n  // Traverse through all children of the scene and disable shadows\n  scene.traverse((child) => {\n    if (child.isMesh) {\n      child.castShadow = false;\n      child.receiveShadow = false;\n      if (child.material) {\n        child.material.castShadow = false;\n        child.material.receiveShadow = false;\n      }\n    }\n  });\n\n  return <primitive object={scene} {...props} />;\n}\n\nfunction Porsche3d() {\n  const carRef = useRef();\n  const [rotationEnabled, setRotationEnabled] = useState(true);\n  const [rotation, setRotation] = useState([0, Math.PI / 4., 0]);\n\n  let idleTimeout;\n\n  const resetIdleTimer = () => {\n    clearTimeout(idleTimeout);\n    idleTimeout = setTimeout(() => {\n      setRotationEnabled(true);\n    }, 5000);\n  };\n\n  useEffect(() => {\n    let requestId;\n    let lastTimestamp = 0;\n\n    const updateRotation = (timestamp) => {\n      const elapsedMilliseconds = timestamp - lastTimestamp;\n\n      if (rotationEnabled) {\n        const rotationSpeed = 0.0001; // Adjust rotation speed as needed\n        setRotation((prevRotation) => [\n          prevRotation[0],\n          prevRotation[1] + rotationSpeed * elapsedMilliseconds,\n          prevRotation[2]\n        ]);\n      }\n\n      lastTimestamp = timestamp;\n      requestId = requestAnimationFrame(updateRotation);\n    };\n\n    if (rotationEnabled) {\n      requestId = requestAnimationFrame(updateRotation);\n    }\n\n    // Initial idle timer setup\n    resetIdleTimer();\n\n    return () => {\n      cancelAnimationFrame(requestId);\n      clearTimeout(idleTimeout);\n    };\n  }, [rotationEnabled]);\n\n  return (\n    <div>\n      <Slideshow models={models} currentModelIndex={0} /> {/* Pass models array to Slideshow */}\n      <Canvas\n        dpr={[1, 2]}\n        shadows\n        camera={{ fov: 45 }}\n        style={{ position: \"absolute\" }}\n      >\n        <ambientLight intensity={0.5} />\n        <PresentationControls\n          speed={1.5}\n          global\n          zoom={1}\n          polar={[-0.1, Math.PI / 4.]}\n          onPointerDown={() => {\n            setRotationEnabled(true);\n            resetIdleTimer();\n          }}\n          onPointerUp={() => {\n            setRotationEnabled(false);\n          }}\n          onPointerLeave={() => {\n            setRotationEnabled(false);\n          }}\n        >\n          <Stage environment=\"\">\n            <Model scale={0.0006} ref={carRef} rotation={rotation} />\n          </Stage>\n        </PresentationControls>\n      </Canvas>\n    </div>\n  );\n}\n\nexport default Porsche3d;\n"],"mappings":";;;AAAA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,OAAO,EAAEC,KAAK,EAAEC,oBAAoB,QAAQ,mBAAmB;AACxE,OAAOC,SAAS,MAAM,aAAa,CAAC,CAAC;;AAErC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,MAAM,GAAG,CACb;EACEC,GAAG,EAAE,cAAc;EACnBC,KAAK,EAAE,kDAAkD;EACzDC,KAAK,EAAE;AACT,CAAC,EACD;EACEF,GAAG,EAAE,YAAY;EACjBC,KAAK,EAAE,2BAA2B;EAClCC,KAAK,EAAE;AACT,CAAC,CAEF;AAED,SAASC,KAAKA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACpB,MAAM;IAAEC;EAAM,CAAC,GAAGb,OAAO,CAAC,cAAc,CAAC;;EAEzC;EACAa,KAAK,CAACC,QAAQ,CAAEC,KAAK,IAAK;IACxB,IAAIA,KAAK,CAACC,MAAM,EAAE;MAChBD,KAAK,CAACE,UAAU,GAAG,KAAK;MACxBF,KAAK,CAACG,aAAa,GAAG,KAAK;MAC3B,IAAIH,KAAK,CAACI,QAAQ,EAAE;QAClBJ,KAAK,CAACI,QAAQ,CAACF,UAAU,GAAG,KAAK;QACjCF,KAAK,CAACI,QAAQ,CAACD,aAAa,GAAG,KAAK;MACtC;IACF;EACF,CAAC,CAAC;EAEF,oBAAOb,OAAA;IAAWe,MAAM,EAAEP,KAAM;IAAA,GAAKF;EAAK;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;AAChD;AAACZ,EAAA,CAhBQF,KAAK;EAAA,QACMV,OAAO;AAAA;AAAAyB,EAAA,GADlBf,KAAK;AAkBd,SAASgB,SAASA,CAAA,EAAG;EAAAC,GAAA;EACnB,MAAMC,MAAM,GAAGhC,MAAM,CAAC,CAAC;EACvB,MAAM,CAACiC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,CAAC,CAAC,EAAEoC,IAAI,CAACC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;EAE9D,IAAIC,WAAW;EAEf,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BC,YAAY,CAACF,WAAW,CAAC;IACzBA,WAAW,GAAGG,UAAU,CAAC,MAAM;MAC7BR,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAEDhC,SAAS,CAAC,MAAM;IACd,IAAIyC,SAAS;IACb,IAAIC,aAAa,GAAG,CAAC;IAErB,MAAMC,cAAc,GAAIC,SAAS,IAAK;MACpC,MAAMC,mBAAmB,GAAGD,SAAS,GAAGF,aAAa;MAErD,IAAIX,eAAe,EAAE;QACnB,MAAMe,aAAa,GAAG,MAAM,CAAC,CAAC;QAC9BZ,WAAW,CAAEa,YAAY,IAAK,CAC5BA,YAAY,CAAC,CAAC,CAAC,EACfA,YAAY,CAAC,CAAC,CAAC,GAAGD,aAAa,GAAGD,mBAAmB,EACrDE,YAAY,CAAC,CAAC,CAAC,CAChB,CAAC;MACJ;MAEAL,aAAa,GAAGE,SAAS;MACzBH,SAAS,GAAGO,qBAAqB,CAACL,cAAc,CAAC;IACnD,CAAC;IAED,IAAIZ,eAAe,EAAE;MACnBU,SAAS,GAAGO,qBAAqB,CAACL,cAAc,CAAC;IACnD;;IAEA;IACAL,cAAc,CAAC,CAAC;IAEhB,OAAO,MAAM;MACXW,oBAAoB,CAACR,SAAS,CAAC;MAC/BF,YAAY,CAACF,WAAW,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,CAACN,eAAe,CAAC,CAAC;EAErB,oBACExB,OAAA;IAAA2C,QAAA,gBACE3C,OAAA,CAACF,SAAS;MAACG,MAAM,EAAEA,MAAO;MAAC2C,iBAAiB,EAAE;IAAE;MAAA5B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,KAAC,eACpDnB,OAAA,CAACN,MAAM;MACLmD,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE;MACZC,OAAO;MACPC,MAAM,EAAE;QAAEC,GAAG,EAAE;MAAG,CAAE;MACpBC,KAAK,EAAE;QAAEC,QAAQ,EAAE;MAAW,CAAE;MAAAP,QAAA,gBAEhC3C,OAAA;QAAcmD,SAAS,EAAE;MAAI;QAAAnC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChCnB,OAAA,CAACH,oBAAoB;QACnBuD,KAAK,EAAE,GAAI;QACXC,MAAM;QACNC,IAAI,EAAE,CAAE;QACRC,KAAK,EAAE,CAAC,CAAC,GAAG,EAAE3B,IAAI,CAACC,EAAE,GAAG,EAAE,CAAE;QAC5B2B,aAAa,EAAEA,CAAA,KAAM;UACnB/B,kBAAkB,CAAC,IAAI,CAAC;UACxBM,cAAc,CAAC,CAAC;QAClB,CAAE;QACF0B,WAAW,EAAEA,CAAA,KAAM;UACjBhC,kBAAkB,CAAC,KAAK,CAAC;QAC3B,CAAE;QACFiC,cAAc,EAAEA,CAAA,KAAM;UACpBjC,kBAAkB,CAAC,KAAK,CAAC;QAC3B,CAAE;QAAAkB,QAAA,eAEF3C,OAAA,CAACJ,KAAK;UAAC+D,WAAW,EAAC,EAAE;UAAAhB,QAAA,eACnB3C,OAAA,CAACK,KAAK;YAACuD,KAAK,EAAE,MAAO;YAACC,GAAG,EAAEtC,MAAO;YAACG,QAAQ,EAAEA;UAAS;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACG,GAAA,CAhFQD,SAAS;AAAAyC,GAAA,GAATzC,SAAS;AAkFlB,eAAeA,SAAS;AAAC,IAAAD,EAAA,EAAA0C,GAAA;AAAAC,YAAA,CAAA3C,EAAA;AAAA2C,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}