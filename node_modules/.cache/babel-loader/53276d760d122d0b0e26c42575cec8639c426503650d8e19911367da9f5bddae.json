{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.USDZInstance = void 0;\n/**\r\n * Represents a model loaded by the USDZLoader and handles its lifecycle in the THREE context\r\n */\nvar USDZInstance = /** @class */function () {\n  function USDZInstance(fileName, usdModule, driver, renderInterface, targetGroup) {\n    // Animations\n    this.timeout = 40;\n    this.endTimecode = 1;\n    this.driver = driver;\n    this.targetGroup = targetGroup;\n    this.usdModule = usdModule;\n    this.renderInterface = renderInterface;\n    this.fileName = fileName;\n    var stage = this.driver.GetStage();\n    this.endTimecode = stage.GetEndTimeCode();\n    this.timeout = 1000 / stage.GetTimeCodesPerSecond();\n  }\n  /**\r\n   * Returns the USDz instance container\r\n   */\n  USDZInstance.prototype.getGroup = function () {\n    return this.targetGroup;\n  };\n  /**\r\n   * If there are some animations on this model, call this function to call the update loop of the animation\r\n   * A time that evolves must be given for the animation to update\r\n   */\n  USDZInstance.prototype.update = function (seconds) {\n    var time = seconds * (1000 / this.timeout) % this.endTimecode;\n    this.driver.SetTime(time);\n    this.driver.Draw();\n  };\n  /**\r\n   * Destroys the associated THREE.Group and unlink the data from the usd module driver\r\n   */\n  USDZInstance.prototype.clear = function () {\n    this.targetGroup.clear();\n    this.usdModule.FS.unlink(this.fileName);\n  };\n  return USDZInstance;\n}();\nexports.USDZInstance = USDZInstance;","map":{"version":3,"names":["Object","defineProperty","exports","value","USDZInstance","fileName","usdModule","driver","renderInterface","targetGroup","timeout","endTimecode","stage","GetStage","GetEndTimeCode","GetTimeCodesPerSecond","prototype","getGroup","update","seconds","time","SetTime","Draw","clear","FS","unlink"],"sources":["/Users/omer/Local Repo/notomer.github.io/node_modules/three-usdz-loader/lib/USDZInstance.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.USDZInstance = void 0;\r\n/**\r\n * Represents a model loaded by the USDZLoader and handles its lifecycle in the THREE context\r\n */\r\nvar USDZInstance = /** @class */ (function () {\r\n    function USDZInstance(fileName, usdModule, driver, renderInterface, targetGroup) {\r\n        // Animations\r\n        this.timeout = 40;\r\n        this.endTimecode = 1;\r\n        this.driver = driver;\r\n        this.targetGroup = targetGroup;\r\n        this.usdModule = usdModule;\r\n        this.renderInterface = renderInterface;\r\n        this.fileName = fileName;\r\n        var stage = this.driver.GetStage();\r\n        this.endTimecode = stage.GetEndTimeCode();\r\n        this.timeout = 1000 / stage.GetTimeCodesPerSecond();\r\n    }\r\n    /**\r\n     * Returns the USDz instance container\r\n     */\r\n    USDZInstance.prototype.getGroup = function () {\r\n        return this.targetGroup;\r\n    };\r\n    /**\r\n     * If there are some animations on this model, call this function to call the update loop of the animation\r\n     * A time that evolves must be given for the animation to update\r\n     */\r\n    USDZInstance.prototype.update = function (seconds) {\r\n        var time = (seconds * (1000 / this.timeout)) % this.endTimecode;\r\n        this.driver.SetTime(time);\r\n        this.driver.Draw();\r\n    };\r\n    /**\r\n     * Destroys the associated THREE.Group and unlink the data from the usd module driver\r\n     */\r\n    USDZInstance.prototype.clear = function () {\r\n        this.targetGroup.clear();\r\n        this.usdModule.FS.unlink(this.fileName);\r\n    };\r\n    return USDZInstance;\r\n}());\r\nexports.USDZInstance = USDZInstance;\r\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B;AACA;AACA;AACA,IAAIA,YAAY,GAAG,aAAe,YAAY;EAC1C,SAASA,YAAYA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,eAAe,EAAEC,WAAW,EAAE;IAC7E;IACA,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACJ,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACE,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACH,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACE,eAAe,GAAGA,eAAe;IACtC,IAAI,CAACH,QAAQ,GAAGA,QAAQ;IACxB,IAAIO,KAAK,GAAG,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC;IAClC,IAAI,CAACF,WAAW,GAAGC,KAAK,CAACE,cAAc,CAAC,CAAC;IACzC,IAAI,CAACJ,OAAO,GAAG,IAAI,GAAGE,KAAK,CAACG,qBAAqB,CAAC,CAAC;EACvD;EACA;AACJ;AACA;EACIX,YAAY,CAACY,SAAS,CAACC,QAAQ,GAAG,YAAY;IAC1C,OAAO,IAAI,CAACR,WAAW;EAC3B,CAAC;EACD;AACJ;AACA;AACA;EACIL,YAAY,CAACY,SAAS,CAACE,MAAM,GAAG,UAAUC,OAAO,EAAE;IAC/C,IAAIC,IAAI,GAAID,OAAO,IAAI,IAAI,GAAG,IAAI,CAACT,OAAO,CAAC,GAAI,IAAI,CAACC,WAAW;IAC/D,IAAI,CAACJ,MAAM,CAACc,OAAO,CAACD,IAAI,CAAC;IACzB,IAAI,CAACb,MAAM,CAACe,IAAI,CAAC,CAAC;EACtB,CAAC;EACD;AACJ;AACA;EACIlB,YAAY,CAACY,SAAS,CAACO,KAAK,GAAG,YAAY;IACvC,IAAI,CAACd,WAAW,CAACc,KAAK,CAAC,CAAC;IACxB,IAAI,CAACjB,SAAS,CAACkB,EAAE,CAACC,MAAM,CAAC,IAAI,CAACpB,QAAQ,CAAC;EAC3C,CAAC;EACD,OAAOD,YAAY;AACvB,CAAC,CAAC,CAAE;AACJF,OAAO,CAACE,YAAY,GAAGA,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}