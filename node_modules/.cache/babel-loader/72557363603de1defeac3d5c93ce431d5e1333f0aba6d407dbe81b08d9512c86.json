{"ast":null,"code":"var _jsxFileName = \"/Users/omer/Local Repo/notomer.github.io/src/Components/Porsche3d.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { useGLTF, Stage, PresentationControls } from \"@react-three/drei\";\n\n// Array of model objects with titles and image URLs\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst models = [{\n  url: \"/Porsche.glb\",\n  title: \"My dream car is a 911, this is my next car goal.\",\n  image: \"/911-logo.jpg\"\n}, {\n  url: \"/Tesla.glb\",\n  title: \"I currently drive a Tesla\",\n  image: \"/t-logo.png\"\n}];\nfunction Model(props) {\n  _s();\n  const {\n    scene\n  } = useGLTF(\"/Porsche.glb\");\n  scene.traverse(child => {\n    if (child.isMesh) {\n      child.castShadow = false;\n      child.receiveShadow = false;\n      if (child.material) {\n        child.material.castShadow = false;\n        child.material.receiveShadow = false;\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: scene,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 10\n  }, this);\n}\n_s(Model, \"o+hqw2nGnmzAsiWsKcbG4W2mWg4=\", false, function () {\n  return [useGLTF];\n});\n_c = Model;\nfunction Porsche3d() {\n  _s2();\n  const carRef = useRef();\n  const [rotationEnabled, setRotationEnabled] = useState(true);\n  const [rotation, setRotation] = useState([0, Math.PI / 4., 0]);\n  const [currentModelIndex, setCurrentModelIndex] = useState(0);\n  let idleTimeout;\n  const resetIdleTimer = () => {\n    clearTimeout(idleTimeout);\n    idleTimeout = setTimeout(() => {\n      setRotationEnabled(true);\n    }, 5000);\n  };\n  useEffect(() => {\n    let requestId;\n    let lastTimestamp = 0;\n    const updateRotation = timestamp => {\n      const elapsedMilliseconds = timestamp - lastTimestamp;\n      if (rotationEnabled) {\n        const rotationSpeed = 0.0001; // Adjust rotation speed as needed\n        setRotation(prevRotation => [prevRotation[0], prevRotation[1] + rotationSpeed * elapsedMilliseconds, prevRotation[2]]);\n      }\n      lastTimestamp = timestamp;\n      requestId = requestAnimationFrame(updateRotation);\n    };\n    if (rotationEnabled) {\n      requestId = requestAnimationFrame(updateRotation);\n    }\n\n    // Initial idle timer setup\n    resetIdleTimer();\n    return () => {\n      cancelAnimationFrame(requestId);\n      clearTimeout(idleTimeout);\n    };\n  }, [rotationEnabled]);\n  const handleNext = () => {\n    setCurrentModelIndex(prevIndex => (prevIndex + 1) % models.length);\n  };\n  const handlePrev = () => {\n    setCurrentModelIndex(prevIndex => (prevIndex - 1 + models.length) % models.length);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"slideshow-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"arrow\",\n      onClick: handlePrev,\n      children: \"<\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n      dpr: [1, 2],\n      shadows: true,\n      camera: {\n        fov: 45\n      },\n      style: {\n        position: \"absolute\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PresentationControls, {\n        speed: 1.5,\n        global: true,\n        zoom: 1,\n        polar: [-0.1, Math.PI / 4.],\n        onPointerDown: () => {\n          setRotationEnabled(true);\n          resetIdleTimer();\n        },\n        onPointerUp: () => {\n          setRotationEnabled(false);\n        },\n        onPointerLeave: () => {\n          setRotationEnabled(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(Stage, {\n          environment: \"\",\n          children: /*#__PURE__*/_jsxDEV(Model, {\n            scale: 0.0006,\n            ref: carRef,\n            rotation: rotation\n            // Use the current model from the array\n            ,\n            url: models[currentModelIndex].url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"arrow\",\n      onClick: handleNext,\n      children: \">\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: models[currentModelIndex].title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), models[currentModelIndex].image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: models[currentModelIndex].image,\n        alt: models[currentModelIndex].title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s2(Porsche3d, \"tOQs+Md84i5tBlH1nk4EIlQTVQo=\");\n_c2 = Porsche3d;\nexport default Porsche3d;\nvar _c, _c2;\n$RefreshReg$(_c, \"Model\");\n$RefreshReg$(_c2, \"Porsche3d\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Canvas","useGLTF","Stage","PresentationControls","jsxDEV","_jsxDEV","models","url","title","image","Model","props","_s","scene","traverse","child","isMesh","castShadow","receiveShadow","material","object","fileName","_jsxFileName","lineNumber","columnNumber","_c","Porsche3d","_s2","carRef","rotationEnabled","setRotationEnabled","rotation","setRotation","Math","PI","currentModelIndex","setCurrentModelIndex","idleTimeout","resetIdleTimer","clearTimeout","setTimeout","requestId","lastTimestamp","updateRotation","timestamp","elapsedMilliseconds","rotationSpeed","prevRotation","requestAnimationFrame","cancelAnimationFrame","handleNext","prevIndex","length","handlePrev","className","children","onClick","dpr","shadows","camera","fov","style","position","intensity","speed","global","zoom","polar","onPointerDown","onPointerUp","onPointerLeave","environment","scale","ref","src","alt","_c2","$RefreshReg$"],"sources":["/Users/omer/Local Repo/notomer.github.io/src/Components/Porsche3d.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { useGLTF, Stage, PresentationControls } from \"@react-three/drei\";\n\n// Array of model objects with titles and image URLs\nconst models = [\n  {\n    url: \"/Porsche.glb\",\n    title: \"My dream car is a 911, this is my next car goal.\",\n    image: \"/911-logo.jpg\",\n  },\n  {\n    url: \"/Tesla.glb\",\n    title: \"I currently drive a Tesla\",\n    image: \"/t-logo.png\",\n  },\n];\n\nfunction Model(props) {\n  const { scene } = useGLTF(\"/Porsche.glb\");\n\n  scene.traverse((child) => {\n    if (child.isMesh) {\n      child.castShadow = false;\n      child.receiveShadow = false;\n      if (child.material) {\n        child.material.castShadow = false;\n        child.material.receiveShadow = false;\n      }\n    }\n  });\n\n  return <primitive object={scene} {...props} />;\n}\n\nfunction Porsche3d() {\n  const carRef = useRef();\n  const [rotationEnabled, setRotationEnabled] = useState(true);\n  const [rotation, setRotation] = useState([0, Math.PI / 4., 0]);\n  const [currentModelIndex, setCurrentModelIndex] = useState(0);\n\n  let idleTimeout;\n\n  const resetIdleTimer = () => {\n    clearTimeout(idleTimeout);\n    idleTimeout = setTimeout(() => {\n      setRotationEnabled(true);\n    }, 5000);\n  };\n\n  useEffect(() => {\n    let requestId;\n    let lastTimestamp = 0;\n\n    const updateRotation = (timestamp) => {\n      const elapsedMilliseconds = timestamp - lastTimestamp;\n\n      if (rotationEnabled) {\n        const rotationSpeed = 0.0001; // Adjust rotation speed as needed\n        setRotation((prevRotation) => [\n          prevRotation[0],\n          prevRotation[1] + rotationSpeed * elapsedMilliseconds,\n          prevRotation[2],\n        ]);\n      }\n\n      lastTimestamp = timestamp;\n      requestId = requestAnimationFrame(updateRotation);\n    };\n\n    if (rotationEnabled) {\n      requestId = requestAnimationFrame(updateRotation);\n    }\n\n    // Initial idle timer setup\n    resetIdleTimer();\n\n    return () => {\n      cancelAnimationFrame(requestId);\n      clearTimeout(idleTimeout);\n    };\n  }, [rotationEnabled]);\n\n  const handleNext = () => {\n    setCurrentModelIndex((prevIndex) => (prevIndex + 1) % models.length);\n  };\n\n  const handlePrev = () => {\n    setCurrentModelIndex(\n      (prevIndex) => (prevIndex - 1 + models.length) % models.length\n    );\n  };\n\n  return (\n    <div className=\"slideshow-container\">\n      <div className=\"arrow\" onClick={handlePrev}>\n        {\"<\"}\n      </div>\n      <Canvas\n        dpr={[1, 2]}\n        shadows\n        camera={{ fov: 45 }}\n        style={{ position: \"absolute\" }}\n      >\n        <ambientLight intensity={0.5} />\n        <PresentationControls\n          speed={1.5}\n          global\n          zoom={1}\n          polar={[-0.1, Math.PI / 4.]}\n          onPointerDown={() => {\n            setRotationEnabled(true);\n            resetIdleTimer();\n          }}\n          onPointerUp={() => {\n            setRotationEnabled(false);\n          }}\n          onPointerLeave={() => {\n            setRotationEnabled(false);\n          }}\n        >\n          <Stage environment=\"\">\n            <Model\n              scale={0.0006}\n              ref={carRef}\n              rotation={rotation}\n              // Use the current model from the array\n              url={models[currentModelIndex].url}\n            />\n          </Stage>\n        </PresentationControls>\n      </Canvas>\n      <div className=\"arrow\" onClick={handleNext}>\n        {\">\"}\n      </div>\n      <div className=\"title-container\">\n        <h3>{models[currentModelIndex].title}</h3>\n        {models[currentModelIndex].image && (\n          <img\n            src={models[currentModelIndex].image}\n            alt={models[currentModelIndex].title}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Porsche3d;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}